<div class="ad" [class.sx-horiz]=" viewOpt === 'line' ">
    <ng-container *ngIf="!ad.isDisabled && ad.isApproved; then coverBasic; else coverCut"></ng-container>

    <div class="ad_data">
        <a *ngIf="ad.isDisabled || !ad.isApproved" class="ad_title" title="{{ ad.title }}">
            {{ ad.title }}
        </a>
        <a *ngIf="!ad.isDisabled && ad.isApproved" class="ad_title" [routerLink]=" '/ad/' + ad.slug "
           title="{{ ad.title }}">
            {{ ad.title }}
        </a>

        <div *ngIf="ad.price > 0; else freeCost" class="ad_price text-nowrap">
            <strong>{{ ad.price | myCurrency }}</strong> сум
        </div>
        <small *ngIf="ad.cityName" class="ad_city">{{ ad.cityName }}</small>
        <small class="ad_created">{{ ad.createdAt | date: "medium" }}</small>
        <div *ngIf="inProfile">
            <small class="ad_status">
                Статус:
                <strong *ngIf="!ad.isApproved">на модерации</strong>
                <strong *ngIf="ad.isDisabled">выключено</strong>
                <strong *ngIf="!ad.isDisabled && ad.isApproved">открыто</strong>
            </small>
            <div class="align-right">
                <a [routerLink]="['/ad/edit/', ad.adId]" href="javascript:void(0);">Изменить</a>
            </div>
        </div>
    </div>
</div>
<ng-template #freeCost>
    <div class="ad_price"><strong>Бесплатно</strong></div>
</ng-template>
<ng-template #coverBasic>
    <a [routerLink]=" '/ad/' + ad.slug " class="ad_cover">
        <img *ngIf="ad.images && ad.images.length"
             [src]="url + '/api/v1/resample/224/0/' + ad.images[0].filepath"
             alt="{{ ad.title }}"
             title="{{ ad.title }}"/>
    </a>
</ng-template>
<ng-template #coverCut>
    <a class="ad_cover">
        <img *ngIf="ad.images && ad.images.length"
             [src]="url + '/api/v1/resample/224/0/' + ad.images[0].filepath"
             alt="{{ ad.title }}"
             title="{{ ad.title }}"/>
    </a>
</ng-template>
